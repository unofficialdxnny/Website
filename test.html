<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord Webhook Form</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>Contact Us</h1>
    <form id="discordForm">
        <label for="name">Name/Username:</label><br>
        <input type="text" id="name" name="name" required><br><br>
        <label for="email">Contact Email:</label><br>
        <input type="email" id="email" name="email" required><br><br>
        <label for="message">Message:</label><br>
        <textarea id="message" name="message" rows="4" cols="50" required></textarea><br><br>
        <button type="submit">Send Message</button>
    </form>

    <style>
      body {
          font-family: Arial, sans-serif;
          background-color: #f2f2f2;
          padding: 20px;
      }

      h1 {
          text-align: center;
          margin-bottom: 20px;
          color: #333;
      }

      form {
          max-width: 500px;
          margin: 0 auto;
          background-color: #fff;
          padding: 20px;
          border-radius: 8px;
          box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
      }

      label {
          font-weight: bold;
          color: #555;
      }

      input[type="text"],
      input[type="email"],
      textarea {
          width: 100%;
          padding: 10px;
          margin-top: 5px;
          margin-bottom: 15px;
          border: 1px solid #ccc;
          border-radius: 5px;
          box-sizing: border-box;
      }

      textarea {
          resize: vertical;
          height: 150px;
      }

      button[type="submit"] {
          background-color: #333;
          color: #fff;
          border: none;
          border-radius: 5px;
          padding: 10px 20px;
          cursor: pointer;
      }

      button[type="submit"]:hover {
          background-color: #555;
      }
  </style>


    <script>
        // Cooldown duration in milliseconds (5 minutes)
        const cooldownDuration = 5 * 60 * 1000;

        // Object to store last message timestamps for each client
        const lastMessageTimestamps = {};

        document.getElementById('discordForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the form from submitting normally

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;

            if (name.trim() === '' || email.trim() === '' || message.trim() === '') {
                alert('Please fill out all fields.');
                return;
            }

            const currentTime = Date.now();
            const lastMessageTime = lastMessageTimestamps[email] || 0;

            if (currentTime - lastMessageTime < cooldownDuration) {
                const remainingTime = Math.ceil((cooldownDuration - (currentTime - lastMessageTime)) / 1000);
                alert(`Please wait ${remainingTime} seconds before sending another message.`);
                return;
            }

            sendMessageToDiscord(name, email, message);
            lastMessageTimestamps[email] = currentTime;
        });

        function sendMessageToDiscord(name, email, message) {
            // Your webhook URL
            const webhookURL = 'https://discord.com/api/webhooks/1244852519302336572/hIM76wzmJcBQEnzEQSwIG7sbqvpMmFsp4Eq4px3f1F4zejbVM3Tf0vVDfwWa9oW_pbpx';

            const payload = {
                embeds: [{
                    title: 'New Contact Message from unofficialdxnny.com',
                    description: `**Name/Username:** ${name}\n**Contact Email:** ${email}\n**Message:** ${message}`,
                    color: 0x007bff, // Blue color
                    timestamp: new Date().toISOString()
                }]
            };

            fetch(webhookURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(payload)
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Failed to send message to Discord.');
                }
                alert('Message sent successfully!');
                document.getElementById('name').value = '';
                document.getElementById('email').value = '';
                document.getElementById('message').value = ''; // Clear the input fields
            })
            .catch(error => {
                alert('Error: ' + error.message);
            });
        }
    </script>
</body>
</html>
